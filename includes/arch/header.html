<!--Start of Zopim Live Chat Script-->
<script type="text/javascript">
window.$zopim||(function(d,s){var z=$zopim=function(c){z._.push(c)},$=z.s=
d.createElement(s),e=d.getElementsByTagName(s)[0];z.set=function(o){z.set.
_.push(o)};z._=[];z.set._=[];$.async=!0;$.setAttribute('charset','utf-8');
$.src='//v2.zopim.com/?1fNcDaKvbuLZFXc7ZsO5PVc9ChG7jbW5';z.t=+new Date;$.
type='text/javascript';e.parentNode.insertBefore($,e)})(document,'script');
</script>
<!--End of Zopim Live Chat Script-->
<style>

.search {margin: 0 auto}


.search {
	/* устанавливаем необходимую ширину формы в зависимости от дизайна
	** форма без проблем растягивается */
	width: 200px;

	/* кнопку отправки будем позиционировать абсолютно,
	** поэтому необходимо это свойство */
	position: absolute;
	top:230px;
}

.search input {
	/* отключаем бордюры у инпутов */
	border: none;
}

/* стили для поля ввода */
.search .input {
	/* растягиваем поле ввода на всю ширину формы */
	width: 100%;

	/* за счет верхнего (8px) и нижнего (9px) внутренних отступов
	** регулируем высоту формы
	** внутренний отступ справа (37px) делаем больше левого,
	** т.к. там будет размещена кнопка отправки	*/
	padding: 8px 37px 9px 15px;

	/* чтобы ширина поля ввода (100%) включала в себя внутренние отступы */
	-moz-box-sizing: border-box;
	box-sizing: border-box;

	/* добавляем внутренние тени */
	box-shadow: inset 0 0 5px rgba(0,0,0,0.1), inset 0 1px 2px rgba(0,0,0,0.3);

	/* закругляем углы */
	border-radius: 20px;

	background: #EEE;
	font: 13px Tahoma, Arial, sans-serif;
	color: #555;
	outline: none;
}

/* меняем оформление поля ввода при фокусе */
.search .input:focus {
	box-shadow: inset 0 0 5px rgba(0,0,0,0.2), inset 0 1px 2px rgba(0,0,0,0.4);
	background: #E8E8E8;
	color: #333;
}

/* оформляем кнопку отправки */
.search .submit {
	/* позиционируем кнопку абсолютно от правого края формы */
	position: absolute;
	top: 0;
	right: 0;

	width: 37px;

	/* растягиваем кнопку на всю высоту формы */
	height: 100%;

	cursor: pointer;
	background: url(https://lh4.googleusercontent.com/-b-5aBxcxarY/UAfFW9lVyjI/AAAAAAAABUg/gQtEXuPuIds/s13/go.png) 50% no-repeat;

	/* добавляем прозрачность кнопке отправки */
	opacity: 0.5;
}

/* при наведении курсора меняем прозрачность кнопки отправки */
.search .submit:hover {
	opacity: 0.8;
}

/* данное свойство необходимо для того, чтобы в браузерах
** Chrome и Safari можно было стилизовать инпуты */
input[type="search"] {
	-webkit-appearance: none;
}
</style>

<!--[if lt IE 9]>
<style>
/* задаем отдельные стили для браузеров IE ниже 9-й версии */
*+html .search {
	/* для IE7 подгоняем ширину под другие браузеры и добавляем правый
	** внутренний отступ, чтобы кнопка отправки встала на свое место */
	width: 28%;
	padding: 0 52px 0 0;
}
.search .input {
	border: 1px solid #DFDFDF;
	border-top: 1px solid #B3B3B3;
	padding-top: 7px;
	background-bottom: 8px;
}
.search .input:focus {
	border: 1px solid #CFCFCF;
	border-top: 1px solid #999;
}
.search .submit {
	filter: alpha(opacity=50);
}
.search .submit:hover {
	filter: alpha(opacity=80);
}
</style>
<![endif]-->

<!--наличие товара-->
<?php   

require_once ($_SERVER['DOCUMENT_ROOT'].'/bb/database_new.php'); // включаем подключение к базе данных


function model_yn($id) {
	global $mysqli;

	$free_q1 = "SELECT (item_id) FROM tovar_rent_items WHERE model_id='$id' AND (`status`='to_rent' OR (`status`='t_bron' AND br_time<".time().")) AND item_place='1' LIMIT 1";
	$result_free1 = $mysqli->query($free_q1);
	if (!$result_free1) {die('Сбой при доступе к базе данных: '.$free_q1.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$free1=$result_free1->num_rows;

	$free_q2 = "SELECT (item_id) FROM tovar_rent_items WHERE model_id='$id' AND (`status`='to_rent' OR (`status`='t_bron' AND br_time<".time().")) AND item_place='2' LIMIT 1";
	$result_free2 = $mysqli->query($free_q2);
	if (!$result_free2) {die('Сбой при доступе к базе данных: '.$free_q2.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$free2=$result_free2->num_rows;
	
	if ($free1>0 && $free2>0) {
		echo 'top_2';
	}
	elseif ($free1>0 && $free2==0) {
		echo 'top_2_1';
	}
	elseif ($free1==0 && $free2>0) {
		echo 'top_2_2';
	}
	else {
		echo 'top_3';
	}
}


function model_yn_2l($id) {
	global $mysqli;

	$free_q1 = "SELECT (item_id) FROM tovar_rent_items WHERE model_id='$id' AND (`status`='to_rent' OR (`status`='t_bron' AND br_time<".time().")) AND item_place='1' LIMIT 1";
	$result_free1 = $mysqli->query($free_q1);
	if (!$result_free1) {die('Сбой при доступе к базе данных: '.$free_q1.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$free1=$result_free1->num_rows;

	$free_q2 = "SELECT (item_id) FROM tovar_rent_items WHERE model_id='$id' AND (`status`='to_rent' OR (`status`='t_bron' AND br_time<".time().")) AND item_place='2' LIMIT 1";
	$result_free2 = $mysqli->query($free_q2);
	if (!$result_free2) {die('Сбой при доступе к базе данных: '.$free_q2.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$free2=$result_free2->num_rows;
	
	if ($free1>0 && $free2>0) {
		return 'top_2';
	}
	elseif ($free1>0 && $free2==0) {
		return 'top_2_1';
	}
	elseif ($free1==0 && $free2>0) {
		return 'top_2_2';
	}
	else {
		return 'top_3';
	}
}


function model_yn2($cat_id, $color) {
	global $mysqli;

	$free_q1 = "SELECT (item_id) FROM tovar_rent_items WHERE cat_id='$cat_id' AND (`status`='to_rent' OR (`status`='t_bron' AND br_time<".time().")) AND item_color='$color' AND item_place='1' LIMIT 1";
	$result_free1 = $mysqli->query($free_q1);
	if (!$result_free1) {die('Сбой при доступе к базе данных: '.$free_q1.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$free1=$result_free1->num_rows;

	$free_q2 = "SELECT (item_id) FROM tovar_rent_items WHERE cat_id='$cat_id' AND (`status`='to_rent' OR (`status`='t_bron' AND br_time<".time().")) AND item_color='$color' AND item_place='2' LIMIT 1";
	$result_free2 = $mysqli->query($free_q2);
	if (!$result_free2) {die('Сбой при доступе к базе данных: '.$free_q2.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$free2=$result_free2->num_rows;

	if ($free1>0 && $free2>0) {
		echo 'top_2';
	}
	elseif ($free1>0 && $free2==0) {
		echo 'top_2_1';
	}
	elseif ($free1==0 && $free2>0) {
		echo 'top_2_2';
	}
	else {
		echo 'top_3';
	}
}




function model_yn3 ($model_id, $color) {
	global $mysqli;

	$free_q1 = "SELECT (item_id) FROM tovar_rent_items WHERE model_id='$model_id' AND (`status`='to_rent' OR (`status`='t_bron' AND br_time<".time().")) AND item_color='$color' AND item_place='1' LIMIT 1";
	$result_free1 = $mysqli->query($free_q1);
	if (!$result_free1) {die('Сбой при доступе к базе данных: '.$free_q1.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$free1=$result_free1->num_rows;

	$free_q2 = "SELECT (item_id) FROM tovar_rent_items WHERE model_id='$model_id' AND (`status`='to_rent' OR (`status`='t_bron' AND br_time<".time().")) AND item_color='$color' AND item_place='2' LIMIT 1";
	$result_free2 = $mysqli->query($free_q2);
	if (!$result_free2) {die('Сбой при доступе к базе данных: '.$free_q2.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$free2=$result_free2->num_rows;

	if ($free1>0 && $free2>0) {
		echo 'top_2';
	}
	elseif ($free1>0 && $free2==0) {
		echo 'top_2_1';
	}
	elseif ($free1==0 && $free2>0) {
		echo 'top_2_2';
	}
	else {
		echo 'top_3';
	}
}


function models ($cat_id, $out_lim) {
	global $mysqli;

	$inn_list='';
	foreach ($cat_id as $value) {
    	$inn_list.='\''.$value.'\', ';
	}
	
	$inn_list=substr($inn_list,0,strlen($inn_list)-2);
	
	//запрос по основным категориям
	$web_model_q= "SELECT * FROM rent_model_web WHERE cat_id IN ($inn_list)";
	$result_web = $mysqli->query($web_model_q);
	if (!$result_web) {die('Сбой при доступе к базе данных: '.$web_model_q.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$web_n=$result_web->num_rows;

	//запрос по доп. категориям
	$web_model_dq= "SELECT * FROM multi_web WHERE add_cat_id IN ($inn_list)";
	$result_dweb = $mysqli->query($web_model_dq);
	if (!$result_dweb) {die('Сбой при доступе к базе данных: '.$web_model_dq.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$web_n2=$result_dweb->num_rows;
	
	if ($web_n2>0) {
	//делаем перечень доп. моделей
		$d_mod_list=array();
		while ($dop_mod=$result_dweb->fetch_assoc()) {
			$d_mod_list[]=$dop_mod['model_id'];
		}
		
		$d_mod_srch='';
		foreach ($d_mod_list as $value) {
			$d_mod_srch.='\''.$value.'\', ';
		}
		
		$d_mod_srch=substr($d_mod_srch,0,strlen($d_mod_srch)-2);
	
	//достаем полноценную информацию по доп. моделям
	//старый запрос 	$web_dm_q= "SELECT * FROM rent_model_web WHERE model_id IN ($d_mod_srch)";
	//образец:		$item_q="SELECT * FROM tovar_rent_items LEFT JOIN tovar_rent ON (tovar_rent_items.model_id = tovar_rent.tovar_rent_id)$srch ORDER BY cat_id, tovar_rent_items.producer, model";
	
	$web_dm_q= "SELECT * FROM rent_model_web LEFT JOIN multi_web ON (rent_model_web.model_id = multi_web.model_id) WHERE rent_model_web.model_id IN ($d_mod_srch)";
	$result_dm_web = $mysqli->query($web_dm_q);
	if (!$result_dm_web) {die('Сбой при доступе к базе данных: '.$web_dm_q.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$web_n3=$result_dm_web->num_rows;
	}	
	
	$output='';
	$output_bussy=array();
	$output_free=array();
	$lim_line=0;
	
	//обрабатываем основные категории
	while ($web_model=$result_web->fetch_assoc()) {
		
		$tov_pl=model_yn_2l($web_model['model_id']);
		
		if ($tov_pl=='top_3') {
			$output_bussy[]='
				<a href="'.$web_model['page_addr'].'" ><div id="'.$tov_pl.'">
				<div id= "box_name"><div class= "kristy_new">'.$web_model['l2_name'].'</div></div>
				<div id= "box_img"><img src="'.$web_model['l2_pic'].'" alt="'.$web_model['l2_alt'].'" /></div>
				</div> </a>
			';
		}
		else {
			$output_free[]='
				<a href="'.$web_model['page_addr'].'" ><div id="'.$tov_pl.'">
				<div id= "box_name"><div class= "kristy_new">'.$web_model['l2_name'].'</div></div>
				<div id= "box_img"><img src="'.$web_model['l2_pic'].'" alt="'.$web_model['l2_alt'].'" /></div>
				</div> </a>
			';
		}
	

	}//end of while
	
	if ($web_n2>0) {
	//обрабатываем дополнительные категории
	while ($web_model=$result_dm_web->fetch_assoc()) {
		
		$tov_pl=model_yn_2l($web_model['model_id']);
		
		if ($web_model['l2_pic_add']=='' || $web_model['l2_pic_add']=='0') {//если есть доп. картинка - выводим доп. картинку, иначе - ориганал
			$l2_addr=$web_model['l2_pic'];
		}
		else {
			$l2_addr=$web_model['l2_pic_add'];
		}
		
		
		if ($tov_pl=='top_3') {
			$output_bussy[]='
				<a href="'.$web_model['page_addr'].'" ><div id="'.$tov_pl.'">
				<div id= "box_name"><div class= "kristy_new">'.$web_model['l2_name'].'</div></div>
				<div id= "box_img"><img src="'.$l2_addr.'" alt="'.$web_model['l2_alt'].'" /></div>
				</div> </a>
			';
		}
		else {
			$output_free[]='
				<a href="'.$web_model['page_addr'].'" ><div id="'.$tov_pl.'">
				<div id= "box_name"><div class= "kristy_new">'.$web_model['l2_name'].'</div></div>
				<div id= "box_img"><img src="'.$l2_addr.'" alt="'.$web_model['l2_alt'].'" /></div>
				</div> </a>
			';
		}
	
	
	}//end of while
	}

	
	$output=array_merge($output_free, $output_bussy); // сливаем массивы товаров. свободные вперед

	foreach ($output as $value) {
    	echo $value;
		$lim_line+=1;		
		if ($out_lim>0 && $lim_line==$out_lim) {//если достигли лимита - выходим
		break;
		}
	}

}//end of fucntion





function models2 ($cat_id, $out_lim, $cat_name, $href) {
	global $mysqli;

	$inn_list='';
	foreach ($cat_id as $value) {
		$inn_list.='\''.$value.'\', ';
	}

	$inn_list=substr($inn_list,0,strlen($inn_list)-2);

	$web_model_q= "SELECT * FROM rent_model_web WHERE cat_id IN ($inn_list)";
	$result_web = $mysqli->query($web_model_q);
	if (!$result_web) {die('Сбой при доступе к базе данных: '.$web_model_q.' ('.$mysqli->connect_errno.') '. $mysqli->connect_error);}
	$web_n=$result_web->num_rows;

	$output='';
	$output_bussy=array();
	$output_free=array();
	$lim_line=0;

	while ($web_model=$result_web->fetch_assoc()) {

		$tov_pl=model_yn_2l($web_model['model_id']);

		if ($tov_pl=='top_3') {
			$output_bussy[]='
				<a href="'.$web_model['page_addr'].'" ><div id="'.$tov_pl.'">
				<div id= "box_name"><div class= "kristy_new">'.$web_model['l2_name'].'</div></div>
				<div id= "box_img"><img src="'.$web_model['l2_pic'].'" alt="'.$web_model['l2_alt'].'" /></div>
				</div> </a>
			';
		}
		else {
			$output_free[]='
				<a href="'.$web_model['page_addr'].'" ><div id="'.$tov_pl.'">
				<div id= "box_name"><div class= "kristy_new">'.$web_model['l2_name'].'</div></div>
				<div id= "box_img"><img src="'.$web_model['l2_pic'].'" alt="'.$web_model['l2_alt'].'" /></div>
				</div> </a>
			';
		}


	}//end of while

	$output=array_merge($output_free, $output_bussy); // сливаем массивы товаров. свободные вперед

	foreach ($output as $value) {
		echo $value;
		$lim_line+=1;
		if ($out_lim>0 && $lim_line==$out_lim) {//если достигли лимита - выходим
			break;
		}
	}
	
	echo '
	<div class="podr_div1">Показаны '.$out_lim.' товаров из '.$web_n.' из категорий "'.$cat_name.'"</div>
	<div class="podr_div2"><a href="'.$href.'" class="podr_a1">Показать все товары из этой категории >>></a></div>
			
			
			';

}//end of fucntion



?>


<!--Zvonki Script-->
<script type="text/javascript">

function getXmlHttp(){
	  var xmlhttp;
	  try {
	    xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
	  } catch (e) {
	    try {
	      xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
	    } catch (E) {
	      xmlhttp = false;
	    }
	  }
	  if (!xmlhttp && typeof XMLHttpRequest!='undefined') {
	    xmlhttp = new XMLHttpRequest();
	  }
	  return xmlhttp;
	}


function zv_show () {
	
	document.getElementById('zv_place').innerHTML='<img src="/includes/loading.gif" />';
	
	var q_type="zakaz_zv";

	var xmlhttp = getXmlHttp()
	xmlhttp.open("POST", '/includes/zvonok.php', true)
	xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
	
		var params = 'q_type=' + encodeURIComponent(q_type);

	xmlhttp.send(params);
	xmlhttp.onreadystatechange = function() {
	  if (xmlhttp.readyState == 4) {
	     if(xmlhttp.status == 200) {
		    document.getElementById('zv_place').innerHTML=xmlhttp.responseText;
		    document.getElementById('gr_fone').style.display="block";
	           }
	  		}
		}
}


function cans_zv () {
	document.getElementById('zv_place').innerHTML='';
    document.getElementById('gr_fone').style.display="none";
}


function zv_send () {
	valid = true;

	kk_name = kk_phone = "";

	// проверка клиента
	if (document.getElementById('z_name').value=="")
	{kk_name="Имя, ";
     valid = false;}

	if (document.getElementById('phone').value=="")
	{kk_phone="Телефон, ";
     valid = false;}
		 
	if (valid==false){
	alert ('Заполните все поля формы! В частности: ' + kk_name + kk_phone);
		}

if (valid==true) {	 
	 
	var q_type='zv_send';
	
//gether values for base / letter
	var z_name=document.getElementById('z_name').value;
	var phone=document.getElementById('phone').value;
	var operator=document.getElementById('operator').value;
	var tema=document.getElementById('tema').value;
	var info=document.getElementById('info').value;

	var xmlhttp = getXmlHttp()
	xmlhttp.open("POST", '/includes/zvonok.php', true)
	xmlhttp.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

	var params = 'z_name=' + encodeURIComponent(z_name) + '&phone=' + encodeURIComponent(phone) + '&operator=' + encodeURIComponent(operator) + '&tema=' + encodeURIComponent(tema) + '&info=' + encodeURIComponent(info) + '&q_type=' + encodeURIComponent(q_type);

	document.getElementById('zv_place').innerHTML='<img src="/includes/loading.gif" />';

	xmlhttp.send(params);
	xmlhttp.onreadystatechange = function() {
	  if (xmlhttp.readyState == 4) {
	     if(xmlhttp.status == 200) {
		
		    document.getElementById('zv_place').innerHTML=xmlhttp.responseText;
	           }
	  		}
		}


}//end of valid if
}//end of zv_send function

</script>
<!--End of Zvonki Script-->

<div id="header">
<a href="/"><div style="float:left; margin-top: 10px; width: 266px; height: 129px;"><img src="/images/logo.png" title></div></a>


<p id="header_text_v1"><img src="/images/velcom.png" style="position:absolute; top:2px; left:-40px;" width="30" height="30" /><b>+375(29) 630-35-32</b><br /><b>+375(29) 630-35-58</b></p>

<p id="header_text_m1"><img src="/images/mts.png" style="position:absolute; top:3px; left:-40px;" width="30" height="30" /><b>+375(29) 730-35-34</b><br /><b>+375(29) 735-35-95</b></p></p>

<p id="header_text_g1"><img src="/images/gorod.png" style="position:absolute; top:3px; left:-40px;" width="30" height="30" /><b>+375(17) 286-33-38</b><br /><b>+375(17) 240-33-96</b></p></p>

<p id="header_text_z1"><b><a href="#" class="zakaz_a" onClick="zv_show(); return false;"><img src="/images/call.gif" style="position:absolute; top:-5px; left:-45px;" width="40" height="30" />Заказать обратный звонок</a></b></p>


<div class="navi1">
  <ul>
    <li class="sm1"><a href="/index.html"></a></li>
    <li class="sm2"><a href="/about/usloviya.htm"></a></li>
    <li class="sm3"><a href="/about/oplata.htm"></a></li>
    <li class="sm4"><a href="/about/dostavka.htm"></a></li>
    <li class="sm5"><a href="/about/usloviya_1.htm"></a></li>
    <li class="sm6"><a href="/about/skidki.htm"></a></li>
    <li class="sm7"><a href="/about/o_nas.htm"></a></li>
  </ul>
 </div>
 <div id="zv_place" style="position:absolute; right:350px;"></div>

<div class="h_addr">Адреса&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<a href="https://maps.yandex.ru/?text=www.tiktak.by&where=%D0%9C%D0%B8%D0%BD%D1%81%D0%BA&z=11&results=20&ll=27.663483%2C53.946742&spn=0.704498%2C0.219137&l=map">пр-т Машерова, 20</a>
<br/>салонов:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https://maps.yandex.ru/?text=www.tiktak.by&where=%D0%9C%D0%B8%D0%BD%D1%81%D0%BA&z=11&results=20&ll=27.663483%2C53.946742&spn=0.704498%2C0.219137&l=map">ул. Ложинская, 5</a></div>
 <p id="header_text_name"><strong>ПРОКАТ ДЕТСКИХ ТОВАРОВ</strong><br />
<font size="4">удобное решение для современных родителей!</font></p>
 <div class="attention">Внимание !</div><div class="segodna">2 января салон на Машерова работает с 10<sup>00</sup> до 18<sup>00</sup></div>
 </div>
 <div class="mask" id="gr_fone"></div>
 

  
  
